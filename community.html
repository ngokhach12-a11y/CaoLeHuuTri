<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>C·ªông ƒê·ªìng - HenHo</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <div class="page-title">C·ªông ƒê·ªìng üåè</div>
            <i class="fas fa-bell" style="color: #ccc; font-size: 20px;"></i>
        </div>

        <!-- Tab Chuy·ªÉn ƒê·ªïi -->
        <div class="top-tabs">
            <div class="tab-btn active" onclick="switchCommunityTab('feed')" id="tabFeed">B·∫£ng Tin</div>
            <div class="tab-btn" onclick="switchCommunityTab('reels')" id="tabReels">Reels</div>
        </div>

        <!-- N·ªôi Dung Ch√≠nh -->
        <div class="main-content" style="display: block; padding: 0;">
            
            <!-- 1. FEED SECTION -->
            <div class="feed-container" id="feedSection">
                <!-- JS s·∫Ω render 10 b√†i vi·∫øt v√†o ƒë√¢y -->
            </div>

            <!-- 2. REELS SECTION -->
            <div class="reels-container" id="reelsSection">
                <!-- Video m·∫´u 1 -->
                <div class="reel-video-item">
                    <video class="reel-video-player" src="https://assets.mixkit.co/videos/preview/mixkit-girl-in-neon-sign-1232-large.mp4" loop onclick="toggleReel(this)"></video>
                    <div class="reel-ui">
                        <h3>@MiuMiu <i class="fas fa-check-circle" style="color: #2ed573; font-size: 14px;"></i></h3>
                        <p>ƒêi d·∫°o ph·ªë ƒë√™m nay kh√¥ng? üåÉ #chill #hanoi</p>
                    </div>
                    <div class="reel-side-bar">
                        <div class="reel-icon"><i class="fas fa-heart"></i><span>1.2k</span></div>
                        <div class="reel-icon"><i class="fas fa-comment-dots"></i><span>342</span></div>
                        <div class="reel-icon"><i class="fas fa-share"></i><span>Share</span></div>
                    </div>
                </div>
                <!-- Video m·∫´u 2 -->
                <div class="reel-video-item">
                    <video class="reel-video-player" src="https://assets.mixkit.co/videos/preview/mixkit-waves-in-the-water-1164-large.mp4" loop onclick="toggleReel(this)"></video>
                    <div class="reel-ui">
                        <h3>@HoangTuBien</h3>
                        <p>Ai ƒëi V≈©ng T√†u cu·ªëi tu·∫ßn n√†y kh√¥ng? üåä</p>
                    </div>
                    <div class="reel-side-bar">
                        <div class="reel-icon"><i class="fas fa-heart"></i><span>890</span></div>
                        <div class="reel-icon"><i class="fas fa-comment-dots"></i><span>120</span></div>
                    </div>
                </div>
            </div>

        </div>

        <!-- N√∫t ƒêƒÉng B√†i (FAB) -->
        <div class="fab-post" onclick="openPostModal()">
            <i class="fas fa-plus"></i>
        </div>

        <!-- Bottom Nav -->
        <nav class="bottom-nav">
            <a href="index.html" class="nav-item"><i class="fas fa-fire"></i></a>
            <a href="random.html" class="nav-item"><i class="fas fa-bolt"></i></a>
            <!-- Tab C·ªông ƒë·ªìng ƒë∆∞·ª£c highlight -->
            <a href="community.html" class="nav-item active"><i class="fas fa-globe-asia"></i></a>
            <a href="chat.html" class="nav-item"><i class="fas fa-comment"></i></a>
            <a href="profile.html" class="nav-item"><i class="fas fa-user"></i></a>
        </nav>

        <!-- MODAL ƒêƒÇNG B√ÄI (·∫®N) -->
        <div id="postModal" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:200; justify-content:center; align-items:center;">
            <div style="background:white; width:90%; border-radius:20px; padding:20px; animation: popIn 0.3s;">
                <h3 style="text-align:center; color:var(--primary); margin-bottom:15px;">ƒêƒÉng B√†i M·ªõi</h3>
                <textarea id="newPostContent" style="width:100%; border:1px solid #eee; border-radius:10px; padding:10px; font-family:sans-serif;" rows="4" placeholder="B·∫°n ƒëang t√¨m k√®o g√¨ th·∫ø? (Cafe, Game, Cinema...)"></textarea>
                
                <div style="margin: 15px 0; display:flex; gap:10px;">
                    <label style="flex:1; background:#f0f2f5; padding:10px; border-radius:10px; text-align:center; cursor:pointer;">
                        <i class="fas fa-image" style="color:#45bd62;"></i> ·∫¢nh
                        <input type="file" hidden accept="image/*" id="newPostImg" onchange="alert('ƒê√£ ch·ªçn ·∫£nh!')">
                    </label>
                    <label style="flex:1; background:#f0f2f5; padding:10px; border-radius:10px; text-align:center; cursor:pointer;">
                        <i class="fas fa-video" style="color:#f3425f;"></i> Video
                        <input type="file" hidden accept="video/*" id="newPostVid" onchange="alert('ƒê√£ ch·ªçn video!')">
                    </label>
                </div>

                <div style="display:flex; gap:10px;">
                    <button onclick="document.getElementById('postModal').style.display='none'" style="flex:1; padding:10px; border:none; background:#eee; border-radius:20px; cursor:pointer;">H·ªßy</button>
                    <button onclick="submitNewPost()" style="flex:1; padding:10px; border:none; background:var(--gradient); color:white; border-radius:20px; font-weight:bold; cursor:pointer;">ƒêƒÉng Ngay</button>
                </div>
            </div>
        </div>

    </div>

    <!-- Script Ri√™ng cho trang n√†y -->
    <script>
        // 1. D·ªÆ LI·ªÜU 10 B√ÄI VI·∫æT M·∫™U (Litmatch Style)
        const dummyPosts = [
            { name: "Minh Qu√¢n", avatar: "https://i.pravatar.cc/150?img=11", tag: "üéÆ Game", time: "5 ph√∫t tr∆∞·ªõc", content: "C·∫ßn t√¨m 1 b·∫°n n·ªØ dual Leo Rank Li√™n Qu√¢n t·ªëi nay ·∫°! M√¨nh ƒëi r·ª´ng g√°nh team üó°Ô∏è", img: "https://images.unsplash.com/photo-1542751371-adc38448a05e?w=500" },
            { name: "Thu Th·∫£o", avatar: "https://i.pravatar.cc/150?img=5", tag: "‚òï Cafe", time: "15 ph√∫t tr∆∞·ªõc", content: "Cu·ªëi tu·∫ßn r·∫£nh r·ªói, c√≥ ai mu·ªën ƒëi Cafe ch·ª•p ·∫£nh ·ªü Qu·∫≠n 1 kh√¥ng? M√¨nh bi·∫øt nhi·ªÅu qu√°n xinh l·∫Øm üì∏", img: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=500" },
            { name: "H·∫£i ƒêƒÉng", avatar: "https://i.pravatar.cc/150?img=3", tag: "‚öΩ Th·ªÉ thao", time: "30 ph√∫t tr∆∞·ªõc", content: "Team m√¨nh thi·∫øu 1 slot ƒë√° b√≥ng s√¢n 7 t·ªëi nay 19h. Ai ƒë√° ƒë∆∞·ª£c inbox nh√©!", img: "https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=500" },
            { name: "B·∫£o Ng·ªçc", avatar: "https://i.pravatar.cc/150?img=9", tag: "üé¨ Phim ·∫£nh", time: "1 gi·ªù tr∆∞·ªõc", content: "D∆∞ 1 v√© xem phim Doraemon t·ªëi nay. C√≥ b·∫°n nam n√†o r·∫£nh ƒëi c√πng kh√¥ng n√®? üçø", img: "https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=500" },
            { name: "Thanh T√πng", avatar: "https://i.pravatar.cc/150?img=8", tag: "üé∏ √Çm nh·∫°c", time: "2 gi·ªù tr∆∞·ªõc", content: "M√¨nh bi·∫øt ƒë√°nh Guitar, t√¨m b·∫°n n·ªØ h√°t hay ƒë·ªÉ l·∫≠p nh√≥m Acoustic ƒëi di·ªÖn ·∫° üéµ", img: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=500" },
            { name: "Lan Anh", avatar: "https://i.pravatar.cc/150?img=1", tag: "üçú ƒÇn u·ªëng", time: "3 gi·ªù tr∆∞·ªõc", content: "Th√®m l·∫©u Haidilao qu√° m√† ƒëi 1 m√¨nh bu·ªìn. Ai ƒëi c√πng m√¨nh bao n∆∞·ªõc nhaaa üç≤", img: "https://images.unsplash.com/photo-1555126634-323283e090fa?w=500" },
            { name: "Qu·ªëc Huy", avatar: "https://i.pravatar.cc/150?img=12", tag: "‚úàÔ∏è Du l·ªãch", time: "5 gi·ªù tr∆∞·ªõc", content: "S·∫Øp ƒëi ƒê√† L·∫°t 3 ng√†y 2 ƒë√™m. C·∫ßn t√¨m b·∫°n ƒë·ªìng h√†nh vui t√≠nh, bi·∫øt ch·ª•p ·∫£nh c√†ng t·ªët üå≤", img: "https://images.unsplash.com/photo-1560946059-45d275726209?w=500" },
            { name: "M√®o Con", avatar: "https://i.pravatar.cc/150?img=4", tag: "üí¨ T√¢m s·ª±", time: "V·ª´a xong", content: "Nay tr·ªùi m∆∞a bu·ªìn qu√°, ai call t√¢m s·ª± x√≠u kh√¥ng? Voice chat nh√© üåßÔ∏è", img: "" }, // B√†i vi·∫øt kh√¥ng ·∫£nh
            { name: "ƒê·ª©c Th·ªãnh", avatar: "https://i.pravatar.cc/150?img=7", tag: "üê∂ Th√∫ c∆∞ng", time: "6 gi·ªù tr∆∞·ªõc", content: "D·∫Øt Boss ƒëi d·∫°o c√¥ng vi√™n. Ai y√™u Corgi th√¨ ra ch∆°i chung nha üêï", img: "https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=500" },
            { name: "Ph∆∞∆°ng Ly", avatar: "https://i.pravatar.cc/150?img=2", tag: "üìö H·ªçc t·∫≠p", time: "1 ng√†y tr∆∞·ªõc", content: "T√¨m b·∫°n h·ªçc c√πng ti·∫øng Anh giao ti·∫øp t·∫°i th∆∞ vi·ªán th√†nh ph·ªë. Nghi√™m t√∫c ·∫°!", img: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=500" }
        ];

        // 2. RENDER FEED
        function renderFeed() {
            const container = document.getElementById('feedSection');
            let html = '';
            dummyPosts.forEach(post => {
                const imgHtml = post.img ? `<div class="post-media"><img src="${post.img}"></div>` : '';
                html += `
                <div class="post-card">
                    <div class="post-header">
                        <img src="${post.avatar}" class="post-avatar">
                        <div class="post-info">
                            <h4>${post.name}</h4>
                            <span>${post.time}</span>
                        </div>
                        <div class="post-tag">${post.tag}</div>
                    </div>
                    <div class="post-content">${post.content}</div>
                    ${imgHtml}
                    <div class="post-actions">
                        <div class="action-item" onclick="this.classList.toggle('liked')">
                            <i class="fas fa-heart"></i> Th√≠ch
                        </div>
                        <div class="action-item">
                            <i class="fas fa-comment-alt"></i> B√¨nh lu·∫≠n
                        </div>
                        <div class="action-item">
                            <i class="fas fa-share"></i> Chia s·∫ª
                        </div>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        // 3. CH·ª®C NƒÇNG ƒêƒÇNG B√ÄI
        function openPostModal() {
            document.getElementById('postModal').style.display = 'flex';
        }

        function submitNewPost() {
            const content = document.getElementById('newPostContent').value;
            if(!content) { alert('Vi·∫øt g√¨ ƒë√≥ ƒëi b·∫°n ∆°i!'); return; }

            const newPost = {
                name: "B·∫°n (M·ªõi)", 
                avatar: localStorage.getItem('userAvatar') || "https://via.placeholder.com/50",
                tag: "üåü M·ªõi",
                time: "V·ª´a xong",
                content: content,
                img: "https://via.placeholder.com/500x300/ffedf0/ff6b81?text=Anh+Moi+Dang" // Demo ·∫£nh
            };

            dummyPosts.unshift(newPost); // Th√™m v√†o ƒë·∫ßu m·∫£ng
            renderFeed(); // V·∫Ω l·∫°i
            document.getElementById('postModal').style.display = 'none'; // ƒê√≥ng modal
            document.getElementById('newPostContent').value = ''; // X√≥a ch·ªØ
        }

        // 4. CHUY·ªÇN TAB FEED / REELS
        function switchCommunityTab(tab) {
            const feed = document.getElementById('feedSection');
            const reels = document.getElementById('reelsSection');
            const btnFeed = document.getElementById('tabFeed');
            const btnReels = document.getElementById('tabReels');
            const fab = document.querySelector('.fab-post');

            if(tab === 'feed') {
                feed.style.display = 'block';
                reels.style.display = 'none';
                btnFeed.classList.add('active');
                btnReels.classList.remove('active');
                fab.style.display = 'flex'; // Hi·ªán n√∫t ƒëƒÉng b√†i
                
                // D·ª´ng video reels
                document.querySelectorAll('video').forEach(v => v.pause());
            } else {
                feed.style.display = 'none';
                reels.style.display = 'block';
                btnFeed.classList.remove('active');
                btnReels.classList.add('active');
                fab.style.display = 'none'; // ·∫®n n√∫t ƒëƒÉng b√†i khi xem Reels
            }
        }

        function toggleReel(video) {
            if(video.paused) video.play();
            else video.pause();
        }

        // CH·∫†Y L·∫¶N ƒê·∫¶U
        renderFeed();

    </script>
</body>
</html>

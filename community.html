<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>C·ªông ƒê·ªìng - HenHo</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* --- CSS S·ª¨A L·ªñI HI·ªÇN TH·ªä (QUAN TR·ªåNG) --- */
        /* Post Card: N·ªÅn tr·∫Øng, ch·ªØ ƒëen */
        .post-card {
            background: #ffffff !important; 
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border: 1px solid #eee;
            color: #333; 
        }

        .post-header {
            display: flex; align-items: center; gap: 10px; margin-bottom: 12px;
        }

        .post-avatar {
            width: 45px; height: 45px; border-radius: 50%; object-fit: cover;
            border: 1px solid #ddd; background-color: #eee;
        }

        .post-info { display: flex; flex-direction: column; }
        .post-info h4 { margin: 0; font-size: 16px; font-weight: bold; color: #000 !important; }
        .post-info span { font-size: 12px; color: #888; }

        .post-tag {
            margin-left: auto; font-size: 11px; padding: 5px 10px;
            border-radius: 12px; background: #fff0f3; color: #ff6b81; font-weight: bold; white-space: nowrap;
        }

        .post-content {
            font-size: 15px; color: #333 !important; line-height: 1.5; margin-bottom: 12px;
        }

        .post-media {
            width: 100%; border-radius: 10px; overflow: hidden; margin-bottom: 12px;
            background-color: #f0f0f0; min-height: 50px;
            display: flex; align-items: center; justify-content: center;
        }
        .post-media img, .post-media video { width: 100%; height: auto; display: block; object-fit: cover; }

        .post-actions {
            display: flex; justify-content: space-around; padding-top: 12px; border-top: 1px solid #eee;
        }
        .action-item { font-size: 14px; color: #666; cursor: pointer; display: flex; align-items: center; gap: 5px; }
        .action-item.liked { color: #ff6b81; }

        /* Reels UI */
        .reels-container { display: none; height: 100%; background: #000; overflow-y: scroll; scroll-snap-type: y mandatory; }
        .reel-video-item { width: 100%; height: 100%; position: relative; scroll-snap-align: start; background: #000; }
        .reel-video-player { width: 100%; height: 100%; object-fit: contain; }
        .reel-ui { position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px; padding-bottom: 80px; background: linear-gradient(transparent, rgba(0,0,0,0.9)); color: white; }
        .reel-side-bar { position: absolute; right: 10px; bottom: 100px; display: flex; flex-direction: column; gap: 20px; align-items: center; color: white; }
        .reel-icon { font-size: 24px; text-shadow: 0 2px 2px rgba(0,0,0,0.5); text-align: center; }
        .reel-icon span { font-size: 12px; display: block; margin-top: 5px; }
        
        .feed-container { display: block; padding-bottom: 100px; background: #fafafa; }
        .fab-post { display: flex; }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <div class="page-title">C·ªông ƒê·ªìng üåè</div>
            <i class="fas fa-bell" style="color: #ccc; font-size: 20px;"></i>
        </div>

        <div class="top-tabs">
            <div class="tab-btn active" onclick="switchTab('feed')" id="tabFeed">B·∫£ng Tin</div>
            <div class="tab-btn" onclick="switchTab('reels')" id="tabReels">Reels</div>
        </div>

        <div class="main-content" style="display: block; padding: 0;">
            <div class="feed-container" id="feedSection"></div>
            <div class="reels-container" id="reelsSection"></div>
        </div>

        <div class="fab-post" onclick="openPostModal()">
            <i class="fas fa-plus"></i>
        </div>

        <nav class="bottom-nav">
            <a href="index.html" class="nav-item"><i class="fas fa-fire"></i></a>
            <a href="random.html" class="nav-item"><i class="fas fa-bolt"></i></a>
            <a href="community.html" class="nav-item active"><i class="fas fa-globe-asia"></i></a>
            <a href="chat.html" class="nav-item"><i class="fas fa-comment"></i></a>
            <a href="profile.html" class="nav-item"><i class="fas fa-user"></i></a>
        </nav>

        <div id="postModal" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:200; justify-content:center; align-items:center;">
            <div style="background:white; width:90%; border-radius:20px; padding:20px;">
                <h3 style="text-align:center; color:var(--primary); margin-bottom:15px;">ƒêƒÉng B√†i M·ªõi</h3>
                <textarea id="newPostContent" style="width:100%; border:1px solid #eee; border-radius:10px; padding:10px;" rows="4" placeholder="B·∫°n ƒëang t√¨m k√®o g√¨ th·∫ø?"></textarea>
                
                <div style="margin: 15px 0; display:flex; gap:10px;">
                    <label style="flex:1; background:#f0f2f5; padding:10px; border-radius:10px; text-align:center;">
                        <i class="fas fa-image" style="color:#45bd62;"></i> ·∫¢nh
                        <input type="file" hidden accept="image/*" id="newPostImg">
                    </label>
                    <label style="flex:1; background:#f0f2f5; padding:10px; border-radius:10px; text-align:center;">
                        <i class="fas fa-video" style="color:#f3425f;"></i> Video
                        <input type="file" hidden accept="video/*" id="newPostVid">
                    </label>
                </div>

                <div style="display:flex; gap:10px;">
                    <button onclick="document.getElementById('postModal').style.display='none'" style="flex:1; padding:10px; border:none; background:#eee; border-radius:20px;">H·ªßy</button>
                    <button onclick="submitNewPost()" style="flex:1; padding:10px; border:none; background:var(--gradient); color:white; border-radius:20px; font-weight:bold;">ƒêƒÉng</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA B√ÄI VI·∫æT (FEED) ---
        const dummyPosts = [
            { name: "Minh Qu√¢n", avatar: "images/user10.jpg", tag: "üéÆ Game", time: "5 ph√∫t tr∆∞·ªõc", content: "T·ªëi nay cu·ªëi tu·∫ßn c√≥ ai dual Rank Li√™n Qu√¢n kh√¥ng? M√¨nh ƒëi r·ª´ng bao g√°nh team! üó°Ô∏è", img: "images/bai1.jpg" },
            { name: "Thu Th·∫£o", avatar: "images/user3.jpg", tag: "‚òï Cafe", time: "15 ph√∫t tr∆∞·ªõc", content: "M·ªõi t√¨m ƒë∆∞·ª£c qu√°n Cafe tone tr·∫Øng xinh x·ªâu ·ªü Qu·∫≠n 1. ƒêi chung v·ªõi m√¨nh n√® üì∏‚ú®", img: "images/bai2.jpg" },
            { name: "H·∫£i ƒêƒÉng", avatar: "images/user8.jpg", tag: "‚öΩ Th·ªÉ thao", time: "30 ph√∫t tr∆∞·ªõc", content: "S√¢n b√≥ng c·ªè nh√¢n t·∫°o khu v·ª±c C·∫ßu Gi·∫•y t·ªëi nay 19h thi·∫øu 2 slot. Anh em n√†o r·∫£nh giao l∆∞u nh√©! ‚öΩ", img: "images/bai3.jpg" },
            { name: "B·∫£o Ng·ªçc", avatar: "images/user5.jpg", tag: "üé¨ Phim ·∫£nh", time: "1 gi·ªù tr∆∞·ªõc", content: "M√¨nh d∆∞ 1 v√© xem phim 'Mai' su·∫•t 20h t·ªëi nay. B·∫°n nam n√†o r·∫£nh ƒëi xem c√πng m√¨nh kh√¥ng? üçø", img: "images/bai4.jpg" },
            { name: "Thanh T√πng", avatar: "images/user11.jpg", tag: "üé∏ √Çm nh·∫°c", time: "2 gi·ªù tr∆∞·ªõc", content: "Chi·ªÅu nay x√°ch ƒë√†n ra c√¥ng vi√™n h√°t h√≤ ch√∫t kh√¥ng? M√¨nh ƒë√†n, c·∫ßn t√¨m b·∫°n n·ªØ h√°t hay üéµ", img: "images/bai5.jpg" },
            { name: "Lan Anh", avatar: "images/user6.jpg", tag: "üçú ƒÇn u·ªëng", time: "3 gi·ªù tr∆∞·ªõc", content: "Tr·ªùi m∆∞a l·∫°nh th·∫ø n√†y t·ª± nhi√™n th√®m l·∫©u qu√°. Ai ƒëi c√πng kh√¥ng, share ti·ªÅn 50/50 nhaaa üç≤", img: "images/bai6.jpg" },
            { name: "Qu·ªëc Huy", avatar: "images/user9.jpg", tag: "‚úàÔ∏è Du l·ªãch", time: "5 gi·ªù tr∆∞·ªõc", content: "S·∫Øp t·ªõi m√¨nh ƒë·ªãnh ƒëi ph∆∞·ª£t H√† Giang. C·∫ßn t√¨m b·∫°n ƒë·ªìng h√†nh vui t√≠nh üå∏üèçÔ∏è", img: "images/bai7.jpg" },
            { name: "Ti·ªÉu M√®o", avatar: "images/user1.jpg", tag: "üê∂ Th√∫ c∆∞ng", time: "6 gi·ªù tr∆∞·ªõc", content: "Chi·ªÅu nay m√¨nh d·∫Øt b√© Corgi ƒëi d·∫°o c√¥ng vi√™n. Ai y√™u ch√≥ th√¨ ra ch∆°i chung nhen üêï", img: "images/bai8.jpg" },
            { name: "Ph∆∞∆°ng Ly", avatar: "images/user2.jpg", tag: "üìö H·ªçc t·∫≠p", time: "1 ng√†y tr∆∞·ªõc", content: "T√¨m b·∫°n h·ªçc c√πng ti·∫øng Anh giao ti·∫øp t·∫°i th∆∞ vi·ªán th√†nh ph·ªë v√†o cu·ªëi tu·∫ßn. üìñ", img: "images/bai9.jpg" },
            { name: "Tu·∫•n H∆∞ng", avatar: "images/user12.jpg", tag: "üí¨ T√¢m s·ª±", time: "V·ª´a xong", content: "Th·∫•t t√¨nh bu·ªìn qu√°, c√≥ ai r·∫£nh call t√¢m s·ª± x√≠u kh√¥ng? Voice chat ·∫©n danh c≈©ng ƒë∆∞·ª£c... üíî", img: "" }
        ];

        // --- DATA REELS ---
        const reelsData = [
            { src: "images/reel1.mp4", user: "@MiuMiu", desc: "Ph·ªë l√™n ƒë√®n l√† em l√™n ƒë·ªì üíÉ #nightvibes" },
            { src: "images/reel2.mp4", user: "@ThienNhien", desc: "M√πa hoa ƒë·∫πp nh·∫•t nƒÉm üåº #flower #travel" },
            { src: "images/reel3.mp4", user: "@BienXanh", desc: "Bi·ªÉn V≈©ng T√†u h√¥m nay √™m qu√° üåä #vitaminsea" },
            { src: "images/reel4.mp4", user: "@GymGirl", desc: "Ch·∫°y b·ªô m·ªói s√°ng üí™ #fitness #gym" },
            { src: "images/reel5.mp4", user: "@TechReview", desc: "Unboxing ƒëi·ªán tho·∫°i m·ªõi üì± #review" },
            { src: "images/reel6.mp4", user: "@MeoMeo", desc: "Ho√†ng th∆∞·ª£ng nh√† em üê± #catlover" },
            { src: "images/reel7.mp4", user: "@CampingVN", desc: "Cu·ªëi tu·∫ßn ƒëi c·∫Øm tr·∫°i ‚õ∫üî• #camping" },
            { src: "images/reel8.mp4", user: "@YogaLife", desc: "Th∆∞ gi√£n bu·ªïi s√°ng üßò‚Äç‚ôÄÔ∏è #yoga" },
            { src: "images/reel9.mp4", user: "@TamSu", desc: "Call video v·ªõi ng∆∞·ªùi y√™u xa üíï #love" },
            { src: "images/reel10.mp4", user: "@HappyNewYear", desc: "Ph√°o hoa ƒë·∫πp qu√°! üéÜ #fireworks" }
        ];

        // --- RENDER FEED ---
        function renderFeed() {
            const container = document.getElementById('feedSection');
            let html = '';
            dummyPosts.forEach(post => {
                let mediaHtml = '';
                if(post.img) {
                    // X·ª≠ l√Ω hi·ªÉn th·ªã c·∫£ ·∫£nh v√† video cho b√†i ƒëƒÉng
                    if (post.isVideo || (typeof post.img === 'string' && post.img.endsWith('.mp4'))) {
                        mediaHtml = `<div class="post-media"><video src="${post.img}" controls></video></div>`;
                    } else {
                        mediaHtml = `<div class="post-media"><img src="${post.img}" alt="·∫¢nh b√†i vi·∫øt"></div>`;
                    }
                }

                html += `
                <div class="post-card">
                    <div class="post-header">
                        <img src="${post.avatar}" class="post-avatar">
                        <div class="post-info">
                            <h4>${post.name}</h4>
                            <span>${post.time}</span>
                        </div>
                        <div class="post-tag">${post.tag}</div>
                    </div>
                    <div class="post-content">${post.content}</div>
                    ${mediaHtml}
                    <div class="post-actions">
                        <div class="action-item" onclick="this.classList.toggle('liked')"><i class="far fa-heart"></i> Th√≠ch</div>
                        <div class="action-item"><i class="far fa-comment-alt"></i> B√¨nh lu·∫≠n</div>
                        <div class="action-item"><i class="fas fa-share"></i> Chia s·∫ª</div>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        // --- RENDER REELS ---
        function renderReels() {
             const container = document.getElementById('reelsSection');
             let html = '';
             reelsData.forEach((reel) => {
                 html += `
                <div class="reel-video-item">
                    <video class="reel-video-player" src="${reel.src}" loop onclick="this.paused?this.play():this.pause()"></video>
                    <div class="reel-ui">
                        <h3>${reel.user} <i class="fas fa-check-circle" style="color: #2ed573; font-size: 14px;"></i></h3>
                        <p>${reel.desc}</p>
                    </div>
                    <div class="reel-side-bar">
                        <div class="reel-icon" onclick="this.style.color='red'"><i class="fas fa-heart"></i><span>${Math.floor(Math.random() * 5000)}</span></div>
                        <div class="reel-icon"><i class="fas fa-comment-dots"></i><span>${Math.floor(Math.random() * 500)}</span></div>
                        <div class="reel-icon"><i class="fas fa-share"></i><span>Share</span></div>
                    </div>
                </div>`;
             });
             container.innerHTML = html;
        }

        // --- CHUY·ªÇN TAB ---
        function switchTab(tab) {
            const feed = document.getElementById('feedSection');
            const reels = document.getElementById('reelsSection');
            const btnFeed = document.getElementById('tabFeed');
            const btnReels = document.getElementById('tabReels');
            const fab = document.querySelector('.fab-post');

            if(tab === 'feed') {
                feed.style.display = 'block';
                reels.style.display = 'none';
                btnFeed.classList.add('active');
                btnReels.classList.remove('active');
                fab.style.display = 'flex';
                document.querySelectorAll('video').forEach(v => v.pause());
            } else {
                feed.style.display = 'none';
                reels.style.display = 'block';
                btnFeed.classList.remove('active');
                btnReels.classList.add('active');
                fab.style.display = 'none';
                if(reels.innerHTML.trim() === "") renderReels();
                setTimeout(() => { const vid = reels.querySelector('video'); if(vid) vid.play(); }, 500);
            }
        }

        // --- ƒêƒÇNG B√ÄI (LOGIC M·ªöI) ---
        function openPostModal() { document.getElementById('postModal').style.display = 'flex'; }
        function submitNewPost() {
            const content = document.getElementById('newPostContent').value;
            const imgInput = document.getElementById('newPostImg');
            const vidInput = document.getElementById('newPostVid');
            
            let mediaUrl = "";
            let isVideoType = false;

            if (imgInput.files && imgInput.files[0]) {
                mediaUrl = URL.createObjectURL(imgInput.files[0]);
                isVideoType = false;
            } else if (vidInput.files && vidInput.files[0]) {
                mediaUrl = URL.createObjectURL(vidInput.files[0]);
                isVideoType = true;
            }

            if(!content && !mediaUrl) { alert('Vi·∫øt g√¨ ƒë√≥ ƒëi b·∫°n ∆°i!'); return; }

            const newPost = {
                name: localStorage.getItem('userName') || "B·∫°n (M·ªõi)", 
                avatar: localStorage.getItem('userAvatar') || "https://via.placeholder.com/150",
                tag: "üåü M·ªõi",
                time: "V·ª´a xong",
                content: content,
                img: mediaUrl,
                isVideo: isVideoType
            };

            dummyPosts.unshift(newPost);
            renderFeed();
            document.getElementById('postModal').style.display = 'none';
            document.getElementById('newPostContent').value = '';
            imgInput.value = "";
            vidInput.value = "";
        }

        // CH·∫†Y L·∫¶N ƒê·∫¶U
        renderFeed();
    </script>
    <a href="developer.html" class="dev-float-btn" title="Li√™n h·ªá Admin">
    <img src="images/avatar.jpg" onerror="this.src='https://via.placeholder.com/50?text=Dev'">
</a>
</body>
</html>

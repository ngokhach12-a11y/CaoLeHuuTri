<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>C·ªông ƒê·ªìng - HenHo</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <div class="header">
            <div class="page-title">C·ªông ƒê·ªìng üåè</div>
            <i class="fas fa-bell" style="color: #ccc; font-size: 20px;"></i>
        </div>

        <div class="top-tabs">
            <div class="tab-btn active" onclick="switchTab('feed')" id="tabFeed">B·∫£ng Tin</div>
            <div class="tab-btn" onclick="switchTab('reels')" id="tabReels">Reels</div>
        </div>

        <div class="main-content" style="display: block; padding: 0;">
            <div class="feed-container" id="feedSection"></div>
            <div class="reels-container" id="reelsSection"></div>
            <div class="fab-post" onclick="postNew()"><i class="fas fa-plus"></i></div>
        </div>

        <nav class="bottom-nav">
            <a href="index.html" class="nav-item"><i class="fas fa-fire"></i></a>
            <a href="random.html" class="nav-item"><i class="fas fa-bolt"></i></a>
            <a href="community.html" class="nav-item active"><i class="fas fa-globe-asia"></i></a>
            <a href="chat.html" class="nav-item"><i class="fas fa-comment"></i></a>
            <a href="profile.html" class="nav-item"><i class="fas fa-user"></i></a>
        </nav>
    </div>

  <script>
        // --- 1. D·ªÆ LI·ªÜU FEED (GI·ªÆ NGUY√äN) ---
        const dummyPosts = [
            { name: "Minh Qu√¢n", avatar: "https://i.pravatar.cc/150?img=11", tag: "üéÆ Game", time: "5 ph√∫t tr∆∞·ªõc", content: "T·ªëi nay cu·ªëi tu·∫ßn c√≥ ai dual Rank Li√™n Qu√¢n kh√¥ng? M√¨nh ƒëi r·ª´ng bao g√°nh team! üó°Ô∏è", img: "https://via.placeholder.com/500x300/e0e0e0/333?text=Anh+Game" },
            { name: "Thu Th·∫£o", avatar: "https://i.pravatar.cc/150?img=5", tag: "‚òï Cafe", time: "15 ph√∫t tr∆∞·ªõc", content: "M·ªõi t√¨m ƒë∆∞·ª£c qu√°n Cafe tone tr·∫Øng xinh x·ªâu ·ªü Qu·∫≠n 1. ƒêi chung v·ªõi m√¨nh n√® üì∏‚ú®", img: "https://via.placeholder.com/500x300/ffeef2/ff6b81?text=Anh+Cafe" },
            { name: "H·∫£i ƒêƒÉng", avatar: "https://i.pravatar.cc/150?img=3", tag: "‚öΩ Th·ªÉ thao", time: "30 ph√∫t tr∆∞·ªõc", content: "S√¢n b√≥ng c·ªè nh√¢n t·∫°o khu v·ª±c C·∫ßu Gi·∫•y t·ªëi nay 19h thi·∫øu 2 slot. Anh em n√†o r·∫£nh giao l∆∞u nh√©! ‚öΩ", img: "https://via.placeholder.com/500x300/c1f0c1/2ed573?text=Anh+Bong+Da" },
            { name: "B·∫£o Ng·ªçc", avatar: "https://i.pravatar.cc/150?img=9", tag: "üé¨ Phim ·∫£nh", time: "1 gi·ªù tr∆∞·ªõc", content: "M√¨nh d∆∞ 1 v√© xem phim 'Mai' su·∫•t 20h t·ªëi nay. B·∫°n nam n√†o r·∫£nh ƒëi xem c√πng m√¨nh kh√¥ng? üçø", img: "https://via.placeholder.com/500x300/000000/ffffff?text=Anh+Rap+Phim" },
            { name: "Thanh T√πng", avatar: "https://i.pravatar.cc/150?img=8", tag: "üé∏ √Çm nh·∫°c", time: "2 gi·ªù tr∆∞·ªõc", content: "Chi·ªÅu nay x√°ch ƒë√†n ra c√¥ng vi√™n h√°t h√≤ ch√∫t kh√¥ng? M√¨nh ƒë√†n, c·∫ßn t√¨m b·∫°n n·ªØ h√°t hay üéµ", img: "https://via.placeholder.com/500x300/ffcc99/333?text=Anh+Guitar" },
            { name: "Lan Anh", avatar: "https://i.pravatar.cc/150?img=1", tag: "üçú ƒÇn u·ªëng", time: "3 gi·ªù tr∆∞·ªõc", content: "Tr·ªùi m∆∞a l·∫°nh th·∫ø n√†y t·ª± nhi√™n th√®m l·∫©u qu√°. Ai ƒëi c√πng kh√¥ng, share ti·ªÅn 50/50 nhaaa üç≤", img: "https://via.placeholder.com/500x300/ff9999/ffffff?text=Anh+Lau" },
            { name: "Qu·ªëc Huy", avatar: "https://i.pravatar.cc/150?img=12", tag: "‚úàÔ∏è Du l·ªãch", time: "5 gi·ªù tr∆∞·ªõc", content: "S·∫Øp t·ªõi m√¨nh ƒë·ªãnh ƒëi ph∆∞·ª£t H√† Giang. C·∫ßn t√¨m b·∫°n ƒë·ªìng h√†nh vui t√≠nh üå∏üèçÔ∏è", img: "https://via.placeholder.com/500x300/99ccff/333?text=Anh+Phuot" },
            { name: "Ti·ªÉu M√®o", avatar: "https://i.pravatar.cc/150?img=4", tag: "üê∂ Th√∫ c∆∞ng", time: "6 gi·ªù tr∆∞·ªõc", content: "Chi·ªÅu nay m√¨nh d·∫Øt b√© Corgi ƒëi d·∫°o c√¥ng vi√™n. Ai y√™u ch√≥ th√¨ ra ch∆°i chung nhen üêï", img: "https://via.placeholder.com/500x300/ffeda0/333?text=Anh+Corgi" },
            { name: "Ph∆∞∆°ng Ly", avatar: "https://i.pravatar.cc/150?img=2", tag: "üìö H·ªçc t·∫≠p", time: "1 ng√†y tr∆∞·ªõc", content: "T√¨m b·∫°n h·ªçc c√πng ti·∫øng Anh giao ti·∫øp t·∫°i th∆∞ vi·ªán th√†nh ph·ªë v√†o cu·ªëi tu·∫ßn. üìñ", img: "https://via.placeholder.com/500x300/eeeeee/333?text=Anh+Sach" },
            { name: "Tu·∫•n H∆∞ng", avatar: "https://i.pravatar.cc/150?img=60", tag: "üí¨ T√¢m s·ª±", time: "V·ª´a xong", content: "Th·∫•t t√¨nh bu·ªìn qu√°, c√≥ ai r·∫£nh call t√¢m s·ª± x√≠u kh√¥ng? Voice chat ·∫©n danh c≈©ng ƒë∆∞·ª£c... üíî", img: "" }
        ];

        // --- 2. D·ªÆ LI·ªÜU REELS (ƒê√É C·∫¨P NH·∫¨T THEO LINK C·ª¶A B·∫†N) ---
        // B·∫°n nh·ªõ upload file reel1.mp4 -> reel10.mp4 v√†o th∆∞ m·ª•c images tr√™n Github nh√©
        const reelsData = [
            { 
                src: "images/reel1.mp4", // Link 1: https://vt.tiktok.com/ZSfGXVpjY/
                user: "@MiuMiu", 
                desc: "Ph·ªë l√™n ƒë√®n l√† em l√™n ƒë·ªì üíÉ #nightvibes #chill" 
            },
            { 
                src: "images/reel2.mp4", // Link 2: https://vt.tiktok.com/ZSfGXuxJT/
                user: "@ThienNhien", 
                desc: "M√πa hoa ƒë·∫πp nh·∫•t nƒÉm, ai ƒëi ch·ª•p ·∫£nh kh√¥ng? üåº #flower #travel" 
            },
            { 
                src: "images/reel3.mp4", // Link 3: https://vt.tiktok.com/ZSfG4dTsa/
                user: "@BienXanh", 
                desc: "Bi·ªÉn V≈©ng T√†u h√¥m nay √™m qu√° üåä #vitaminsea #travel" 
            },
            { 
                src: "images/reel4.mp4", // Link 4: https://vt.tiktok.com/ZSfG4MHmh/
                user: "@GymGirl", 
                desc: "Ch·∫°y b·ªô m·ªói s√°ng ƒë·ªÉ c√≥ body ƒë·∫πp üí™ #fitness #gym" 
            },
            { 
                src: "images/reel5.mp4", // Link 5: https://vt.tiktok.com/ZSfGX7pEQ/
                user: "@TechReview", 
                desc: "Unboxing ƒëi·ªán tho·∫°i m·ªõi n√® c√°c b·∫°n ∆°i üì± #review #congnghe" 
            },
            { 
                src: "images/reel6.mp4", // Link 6: https://vt.tiktok.com/ZSfG4NGMK/
                user: "@MeoMeo", 
                desc: "Ho√†ng th∆∞·ª£ng nh√† em ƒëang sƒÉn m·ªìi üê± #catlover #cute" 
            },
            { 
                src: "images/reel7.mp4", // Link 7: https://vt.tiktok.com/ZSfG4dVNv/
                user: "@CampingVN", 
                desc: "Cu·ªëi tu·∫ßn ƒëi c·∫Øm tr·∫°i n∆∞·ªõng th·ªãt l√† h·∫øt b√†i ‚õ∫üî• #camping #food" 
            },
            { 
                src: "images/reel8.mp4", // Link 8: https://vt.tiktok.com/ZSfGX3Lvp/
                user: "@YogaLife", 
                desc: "Th∆∞ gi√£n bu·ªïi s√°ng, kh·ªüi ƒë·∫ßu ng√†y m·ªõi üßò‚Äç‚ôÄÔ∏è #yoga #morning" 
            },
            { 
                src: "images/reel9.mp4", // Link 9: https://vt.tiktok.com/ZSfG4MbD9/
                user: "@TamSu", 
                desc: "Call video v·ªõi ng∆∞·ªùi y√™u xa be like... üíï #love #couple" 
            },
            { 
                src: "images/reel10.mp4", // Link 10: https://vt.tiktok.com/ZSfGXvPkf/
                user: "@HappyNewYear", 
                desc: "Ph√°o hoa ƒë·∫πp qu√° m·ªçi ng∆∞·ªùi ∆°i! üéÜ #fireworks #dep" 
            }
        ];

        // --- C√ÅC H√ÄM RENDER V√Ä X·ª¨ L√ù (KH√îNG ƒê·ªîI) ---
        function renderFeed() {
            const container = document.getElementById('feedSection');
            let html = '';
            dummyPosts.forEach(post => {
                const imgHtml = post.img ? `<div class="post-media"><img src="${post.img}"></div>` : '';
                html += `
                <div class="post-card">
                    <div class="post-header">
                        <img src="${post.avatar}" class="post-avatar">
                        <div class="post-info"><h4>${post.name}</h4><span>${post.time}</span></div>
                        <div class="post-tag">${post.tag}</div>
                    </div>
                    <div class="post-content">${post.content}</div>
                    ${imgHtml}
                    <div class="post-actions">
                        <div class="action-item" onclick="this.classList.toggle('liked')"><i class="fas fa-heart"></i> Th√≠ch</div>
                        <div class="action-item"><i class="fas fa-comment-alt"></i> B√¨nh lu·∫≠n</div>
                        <div class="action-item"><i class="fas fa-share"></i> Chia s·∫ª</div>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        function renderReels() {
             const container = document.getElementById('reelsSection');
             let html = '';
             reelsData.forEach((reel) => {
                 html += `
                <div class="reel-video-item">
                    <video class="reel-video-player" src="${reel.src}" loop onclick="toggleReel(this)"></video>
                    <div class="reel-ui">
                        <h3>${reel.user} <i class="fas fa-check-circle" style="color: #2ed573; font-size: 14px;"></i></h3>
                        <p>${reel.desc}</p>
                    </div>
                    <div class="reel-side-bar">
                        <div class="reel-icon" onclick="this.style.color='red'"><i class="fas fa-heart"></i><span>${Math.floor(Math.random() * 5000)}</span></div>
                        <div class="reel-icon"><i class="fas fa-comment-dots"></i><span>${Math.floor(Math.random() * 500)}</span></div>
                        <div class="reel-icon"><i class="fas fa-share"></i><span>Share</span></div>
                    </div>
                </div>`;
             });
             container.innerHTML = html;
        }

        function switchTab(tab) {
            const feed = document.getElementById('feedSection');
            const reels = document.getElementById('reelsSection');
            const btnFeed = document.getElementById('tabFeed');
            const btnReels = document.getElementById('tabReels');
            const fab = document.querySelector('.fab-post');

            if(tab === 'feed') {
                feed.style.display = 'block';
                reels.style.display = 'none';
                btnFeed.classList.add('active');
                btnReels.classList.remove('active');
                fab.style.display = 'flex';
                document.querySelectorAll('video').forEach(v => v.pause());
            } else {
                feed.style.display = 'none';
                reels.style.display = 'block';
                btnFeed.classList.remove('active');
                btnReels.classList.add('active');
                fab.style.display = 'none';
                if(reels.innerHTML.trim() === "") renderReels();
                
                // T·ª± ƒë·ªông ph√°t video ƒë·∫ßu ti√™n sau 500ms
                setTimeout(() => {
                    const firstVid = reels.querySelector('video');
                    if(firstVid) firstVid.play();
                }, 500);
            }
        }

        function toggleReel(video) {
            video.paused ? video.play() : video.pause();
        }

        function openPostModal() { document.getElementById('postModal').style.display = 'flex'; }
        
        function submitNewPost() {
            const content = document.getElementById('newPostContent').value;
            if(!content) { alert('Vi·∫øt g√¨ ƒë√≥ ƒëi b·∫°n ∆°i!'); return; }
            
            // X·ª≠ l√Ω ·∫£nh/video ng∆∞·ªùi d√πng ch·ªçn
            const fileInput = document.getElementById('newPostImg');
            const videoInput = document.getElementById('newPostVid');
            let mediaUrl = "";
            let isVideo = false;

            if (fileInput.files && fileInput.files[0]) {
                mediaUrl = URL.createObjectURL(fileInput.files[0]);
            } else if (videoInput.files && videoInput.files[0]) {
                mediaUrl = URL.createObjectURL(videoInput.files[0]);
                isVideo = true;
            } else {
                mediaUrl = "https://via.placeholder.com/500x300/ffedf0/ff6b81?text=Anh+Moi+Dang"; // ·∫¢nh demo n·∫øu kh√¥ng ch·ªçn
            }

            const newPost = {
                name: localStorage.getItem('userName') || "B·∫°n", 
                avatar: localStorage.getItem('userAvatar') || "https://via.placeholder.com/50",
                tag: "üåü M·ªõi",
                time: "V·ª´a xong",
                content: content,
                img: isVideo ? null : mediaUrl // N·∫øu l√† video th√¨ x·ª≠ l√Ω kh√°c, ·ªü ƒë√¢y demo ·∫£nh
            };

            dummyPosts.unshift(newPost);
            renderFeed();
            document.getElementById('postModal').style.display = 'none';
            document.getElementById('newPostContent').value = '';
        }

        // Ch·∫°y l·∫ßn ƒë·∫ßu
        renderFeed();
    </script>
</body>
</html>
